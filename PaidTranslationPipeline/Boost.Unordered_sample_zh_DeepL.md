# [![图片1：Boost C++库](https://www.boost.org/static/img/original_docs/space.png)Boost C++库](https://www.boost.org/)

...全球最受推崇且设计精良的C++库项目之一。—— [赫伯·萨特](https://herbsutter.com/) 与 [安德烈·亚历山德鲁](http://en.wikipedia.org/wiki/Andrei_Alexandrescu)，[C++编码标准](https://books.google.com/books/about/C++_Coding_Standards.html?id=mmjVIC6WolgC)

搜索...

简介 :: Boost.Unordered

===============

### [Boost.Unordered](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/intro.html)

*   ```
      *   [简介](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/intro.html)
    ```
    
    *   [哈希表基础](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/buckets.html)
        
    *   [相等性谓词与哈希函数](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/hash_equality.html)
        
    *   [常规容器](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/regular.html)
        
    *   [并发容器](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/concurrent.html)
        
    *   [哈希质量](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/hash_quality.html)
        
    *   [标准兼容性](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/compliance.html)
        
    *   [数据结构](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/structures.html)
        
    *   [可调试性](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/debuggability.html)
        
    *   [基准测试](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/benchmarks.html)
        
    *   [实现依据](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/rationale.html)
        
    *   [参考](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/ref.html)
        
        *   [`<boost/unordered/unordered_map_fwd.hpp>`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/header_unordered_map_fwd.html)
        *   [`<boost/unordered_map.hpp>`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/header_unordered_map_top.html)
        *   [`<boost/unordered/unordered_map.hpp>`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/header_unordered_map.html)
        *   [`unordered_map`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/unordered_map.html)
        *   [`unordered_multimap`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/unordered_multimap.html)
        *   [`<boost/unordered/unordered_set_fwd.hpp>`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/header_unordered_set_fwd.html)
        *   [`<boost/unordered_set.hpp>`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/header_unordered_set_top.html)
        *   [`<boost/unordered/unordered_set.hpp>`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/header_unordered_set.html)
        *   [`unordered_set`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/unordered_set.html)
        *   [`unordered_multiset`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/unordered_multiset.html)
        *   [哈希特性](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/hash_traits.html)
        *   [统计特性](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/stats.html)
        *   [`<boost/unordered/unordered_flat_map_fwd.hpp>`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/header_unordered_flat_map_fwd.html)
        *   [`<boost/unordered/unordered_flat_map.hpp>`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/header_unordered_flat_map.html)
        *   [`unordered_flat_map`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/unordered_flat_map.html)
        *   [`<boost/unordered/unordered_flat_set_fwd.hpp>`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/header_unordered_flat_set_fwd.html)
        *   [`<boost/unordered/unordered_flat_set.hpp>`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/header_unordered_flat_set.html)
        *   [`unordered_flat_set`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/unordered_flat_set.html)
        *   [`<boost/unordered/unordered_node_map_fwd.hpp>`](https://www.boost.org/doc/libs/latest/libs/unorde




        * [`unordered_node_map`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/unordered_node_map.html)
        * [`<boost/unordered/unordered_node_set_fwd.hpp>`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/header_unordered_node_set_fwd.html)
        *   [`<boost/unordered/unordered_node_set.hpp>`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/header_unordered_node_set.html)
        *   [`unordered_node_set`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/unordered_node_set.html)
        *   [`<boost/unordered/concurrent_flat_map_fwd.hpp>`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/header_concurrent_flat_map_fwd.html)
        *   [`<boost/unordered/concurrent_flat_map.hpp>`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/header_concurrent_flat_map.html)
        *   [`concurrent_flat_map`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/concurrent_flat_map.html)
        *   [`<boost/unordered/concurrent_flat_set_fwd.hpp>`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/header_concurrent_flat_set_fwd.html)
        *   [`<boost/unordered/concurrent_flat_set.hpp>`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/header_concurrent_flat_set.html)
        *   [`concurrent_flat_set`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/concurrent_flat_set.html)
        *   [`<boost/unordered/concurrent_node_map_fwd.hpp>`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/header_concurrent_node_map_fwd.html)
        *   [`<boost/unordered/concurrent_node_map.hpp>`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/header_concurrent_node_map.html)
        *   [`concurrent_node_map`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/concurrent_node_map.html)
        *   [`<boost/unordered/concurrent_node_set_fwd.hpp>`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/header_concurrent_node_set_fwd.html)
        *   [`<boost/unordered/concurrent_node_set.hpp>`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/header_concurrent_node_set.html)
        *   [`concurrent_node_set`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/concurrent_node_set.html)
    *   [变更日志](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/changes.html)
        
*   [参考文献](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/bibliography.html)
        
    * [版权与许可](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/copyright.html)
        

[](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/intro.html)

*   [Boost.Unordered](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/intro.html)
*   [简介](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/intro.html)

# 简介

[哈希表](https://en.wikipedia.org/wiki/Hash_table) 是极为流行的计算机数据结构，几乎所有编程语言中都以不同形式存在。相较于其他关联结构（如C++中`std::set`和`std::map`使用的红黑树），哈希表在插入和查找操作上具有对数时间复杂度。若配置得当，哈希表平均可实现常数时间操作，通常速度更快。

C++在C++11中引入了无序关联容器`std::unordered_set`、`std::unordered_map`、`std::unordered_multiset`和`std::unordered_multimap`，但哈希表的研究从未停止：随着CPU架构的进步——例如更强大的缓存、 [SIMD](https://en.wikipedia.org/wiki/Single_instruction,_multiple_data)运算以及日益普及的[多核处理器](https://en.wikipedia.org/wiki/Multi-core_processor)，为改进哈希数据结构和拓展新应用场景创造了可能性——这些突破远非2011年定义的无序关联容器所能企及。

Boost.Unordered提供了一系列符合不同标准、具备不同性能和适用场景的哈希容器：

表1. Boost.Unordered容器分类| | **节点式** | **平面式** | | --- | --- | --- | | **闭合寻址** | `boost::unordered_set boost::unordered_map boost::unordered_multiset boost::unordered_multimap` | | | **开放寻址** | `boost::unordered_node_set boost::unordered_node_map` | `boost::unordered_flat_set boost::unordered_flat_map` | | **并发** | `boost::concurrent_node_set` `boost::concurrent_node_map` | `boost::concurrent_flat_set` `boost:



      *   **封闭寻址容器**完全符合C++规范中对无序关联容器的要求，在标准接口的技术限制下实现了市场上最快的实现之一。
    
*   **开放寻址容器** 采用更高效的数据结构与算法（典型场景下速度提升超过2倍），其实现略有偏离标准接口以适应具体实现。包含两种变体：**扁平**（速度最快）和**基于节点**（在重新哈希时提供指针稳定性，但速度稍慢）。
    
*   最后，**并发容器**专为高性能多线程场景设计实现。其接口与常规C++容器截然不同，同时提供平面式和节点式两种变体。
    

Boost.Unordered中的所有集合与映射均与`std::unordered_set`和`std::unordered_map`类似：

```c++
namespace boost {
    template <
        class Key,
        class Hash = boost::hash<Key>,
        class Pred = std::equal_to<Key>,
        class Alloc = std::allocator<Key> >
    class unordered_set;
    // unordered_multiset、unordered_flat_set、unordered_node_set、
    // concurrent_flat_set 和 concurrent_node_set 同理

    template <
        class Key, class Mapped,
        class Hash = boost::hash<Key>,
        class Pred = std::equal_to<Key>,
        class Alloc = std::allocator<std::pair<Key const, Mapped> > >
    class unordered_map;
    // 同理适用于 unordered_multimap、unordered_flat_map、unordered_node_map、
    // concurrent_flat_map 和 concurrent_node_map
}
```

c++![Image 2: copy icon](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/_/img/octicons-16.svg#view-clippy)已复制！

在无序关联容器中存储对象需要同时提供键值相等性函数和哈希函数。标准容器的默认函数对象支持若干基本类型，包括整数类型、浮点类型、指针类型及标准字符串。由于Boost.Unordered使用[boost::hash](https://www.boost.org/doc/libs/latest/libs/container_hash/index.html)，故也支持其他类型（包括标准容器）。若需使用上述方法未支持的类型，则需扩展 Boost.Hash 以支持该类型，或使用自定义的相等性谓词和哈希函数。更多细节请参阅[相等性谓词与哈希函数](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/hash_equality.html#hash_equality)章节。