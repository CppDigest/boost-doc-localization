# [![Image 1: Boost C++ Libraries](https://www.boost.org/static/img/original_docs/space.png)Boost C++ Libraries](https://www.boost.org/)

...全球最受推崇且专业设计的C++库项目之一。—— [Herb Sutter](https://herbsutter.com/) 与 [Andrei Alexandrescu](http://en.wikipedia.org/wiki/Andrei_Alexandrescu)，[C++编程规范](https://books.google.com/books/about/C++_Coding_Standards.html?id=mmjVIC6WolgC)

搜索...

Boost.Unordered 简介

\===============

### [Boost.Unordered](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/intro.html)

*   ```
      *   [简介](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/intro.html)
    ```
    
    *   [哈希表基础](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/buckets.html)
        
    *   [相等谓词与哈希函数](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/hash_equality.html)
        
    *   [常规容器](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/regular.html)
        
    *   [并发容器](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/concurrent.html)
        
    *   [哈希质量](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/hash_quality.html)
        
    *   [标准符合性](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/compliance.html)
        
    *   [数据结构](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/structures.html)
        
    *   [可调试性](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/debuggability.html)
        
    *   [性能基准](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/benchmarks.html)
        
    *   [实现原理](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/rationale.html)
        
    *   [参考手册](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/ref.html)
        
        *   [`<boost/unordered/unordered_map_fwd.hpp>`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/header_unordered_map_fwd.html)
        *   [`<boost/unordered_map.hpp>`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/header_unordered_map_top.html)
        *   [`<boost/unordered/unordered_map.hpp>`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/header_unordered_map.html)
        *   [`unordered_map`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/unordered_map.html)
        *   [`unordered_multimap`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/unordered_multimap.html)
        *   [`<boost/unordered/unordered_set_fwd.hpp>`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/header_unordered_set_fwd.html)
        *   [`<boost/unordered_set.hpp>`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/header_unordered_set_top.html)
        *   [`<boost/unordered/unordered_set.hpp>`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/header_unordered_set.html)
        *   [`unordered_set`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/unordered_set.html)
        *   [`unordered_multiset`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/unordered_multiset.html)
        *   [哈希特性](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/hash_traits.html)
        *   [统计信息](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/stats.html)
        *   [`<boost/unordered/unordered_flat_map_fwd.hpp>`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/header_unordered_flat_map_fwd.html)
        *   [`<boost/unordered/unordered_flat_map.hpp>`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/header_unordered_flat_map.html)
        *   [`unordered_flat_map`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/unordered_flat_map.html)
        *   [`<boost/unordered/unordered_flat_set_fwd.hpp>`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/header_unordered_flat_set_fwd.html)
        *   [`<boost/unordered/unordered_flat_set.hpp>`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/header_unordered_flat_set.html)
        *   [`unordered_flat_set`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/unordered_flat_set.html)
        *   [`<boost/unordered/unordered_node_map_fwd.hpp>`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/header_unordered_node_map_fwd.html)
        *   [`<boost/unordered/unordered_node_map.hpp>`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/header_unordered_node_map.html)
        *   [`unordered_node_map`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/unordered_node_map.html)
        *   [`<boost/unordered/unordered_node_set_fwd.hpp>`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/header_unordered_node_set_fwd.html)
        *   [`<boost/unordered/unordered_node_set.hpp>`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/header_unordered_node_set.html)
        *   [`unordered_node_set`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/unordered_node_set.html)
        *   [`<boost/unordered/concurrent_flat_map_fwd.hpp>`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/header_concurrent_flat_map_fwd.html)
        *   [`<boost/unordered/concurrent_flat_map.hpp>`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/header_concurrent_flat_map.html)
        *   [`concurrent_flat_map`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/concurrent_flat_map.html)
        *   [`<boost/unordered/concurrent_flat_set_fwd.hpp>`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/header_concurrent_flat_set_fwd.html)
        *   [`<boost/unordered/concurrent_flat_set.hpp>`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/header_concurrent_flat_set.html)
        *   [`concurrent_flat_set`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/concurrent_flat_set.html)
        *   [`<boost/unordered/concurrent_node_map_fwd.hpp>`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/header_concurrent_node_map_fwd.html)
        *   [`<boost/unordered/concurrent_node_map.hpp>`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/header_concurrent_node_map.html)
        *   [`concurrent_node_map`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/concurrent_node_map.html)
        *   [`<boost/unordered/concurrent_node_set_fwd.hpp>`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/header_concurrent_node_set_fwd.html)
        *   [`<boost/unordered/concurrent_node_set.hpp>`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/header_concurrent_node_set.html)
        *   [`concurrent_node_set`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/concurrent_node_set.html)
    *   [变更日志](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/changes.html)
        
    *   [参考文献](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/bibliography.html)
        
    *   [版权与许可](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/copyright.html)
        

[](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/intro.html)

*   [Boost.Unordered](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/intro.html)
*   [简介](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/intro.html)

# 简介

[哈希表](https://en.wikipedia.org/wiki/Hash_table)是极其流行的计算机数据结构，几乎在所有编程语言中都能找到其不同形式的实现。虽然其他关联结构（如C++中`std::set`和`std::map`使用的红黑树）具有对数级时间复杂度的插入和查找操作，但哈希表若配置得当，平均能在常数时间内完成这些操作，且通常快得多。

C++11引入了**无序关联容器**`std::unordered_set`、`std::unordered_map`、`std::unordered_multiset`和`std::unordered_multimap`，但哈希表的研究从未停止：CPU架构的进步（如更强大的缓存、[SIMD](https://en.wikipedia.org/wiki/Single_instruction,_multiple_data)指令和日益普及的[多核处理器](https://en.wikipedia.org/wiki/Multi-core_processor)）为改进的哈希数据结构提供了可能，并催生了2011年标准定义的无序关联容器无法实现的新用例。

Boost.Unordered提供了一系列具有不同标准符合级别、性能特性和适用场景的哈希容器：

表1. Boost.Unordered容器分类
|          | **基于节点(Node-based)** | **扁平结构(Flat)** |
|----------|--------------------------|-------------------|
| **闭地址法(Closed addressing)** | `boost::unordered_set`<br>`boost::unordered_map`<br>`boost::unordered_multiset`<br>`boost::unordered_multimap` | |
| **开地址法(Open addressing)** | `boost::unordered_node_set`<br>`boost::unordered_node_map` | `boost::unordered_flat_set`<br>`boost::unordered_flat_map` |
| **并发容器(Concurrent)** | `boost::concurrent_node_set`<br>`boost::concurrent_node_map` | `boost::concurrent_flat_set`<br>`boost::concurrent_flat_map` |

*   **闭地址法容器**完全符合C++无序关联容器规范，在标准接口的技术约束下实现了业界最快的性能之一。
    
*   **开地址法容器**采用更快的数据结构和算法（典型场景下快两倍以上），其接口与标准略有差异以适应实现。提供两种变体：**扁平结构**（最快）和**基于节点**（在重哈希时保持指针稳定性，但速度稍慢）。
    
*   **并发容器**专为高性能多线程场景设计实现，其接口与常规C++容器截然不同。提供扁平结构和基于节点两种变体。
    

Boost.Unordered中的所有集合(set)和映射(map)均以类似`std::unordered_set`和`std::unordered_map`的方式实例化：

```c++
namespace boost {
    template <
        class Key,
        class Hash = boost::hash<Key>,
        class Pred = std::equal_to<Key>,
        class Alloc = std::allocator<Key> >
    class unordered_set;
    // unordered_multiset, unordered_flat_set, unordered_node_set,
    // concurrent_flat_set 和 concurrent_node_set 同理

    template <
        class Key, class Mapped,
        class Hash = boost::hash<Key>,
        class Pred = std::equal_to<Key>,
        class Alloc = std::allocator<std::pair<Key const, Mapped> > >
    class unordered_map;
    // unordered_multimap, unordered_flat_map, unordered_node_map,
    // concurrent_flat_map 和 concurrent_node_map 同理
}
```

c++![Image 2: copy icon](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/_/img/octicons-16.svg#view-clippy)已复制!

在无序关联容器中存储对象需要键值相等函数和哈希函数。标准容器的默认函数对象支持基本类型（包括整型、浮点型、指针类型和标准字符串）。由于Boost.Unordered使用[boost::hash](https://www.boost.org/doc/libs/latest/libs/container_hash/index.html)，因此还支持其他类型（包括标准容器）。若需使用这些方法不支持的类型，必须扩展Boost.Hash以支持该类型，或使用自定义的相等谓词和哈希函数。详见[相等谓词与哈希函数](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/hash_equality.html#hash_equality)章节。