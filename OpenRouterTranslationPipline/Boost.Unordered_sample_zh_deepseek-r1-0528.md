```markdown
# [![Image 1: Boost C++ 库](https://www.boost.org/static/img/original_docs/space.png)Boost C++ 库](https://www.boost.org/)

...世界上最受推崇且专业设计的 C++ 库项目之一。—— [Herb Sutter](https://herbsutter.com/) 与 [Andrei Alexandrescu](http://en.wikipedia.org/wiki/Andrei_Alexandrescu)，[《C++ 编程规范》](https://books.google.com/books/about/C++_Coding_Standards.html?id=mmjVIC6WolgC)

搜索...

简介 :: Boost.Unordered

\===============

### [Boost.Unordered](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/intro.html)

*   ```
      *   [简介](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/intro.html)
    ```
    
    *   [哈希表基础](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/buckets.html)
        
    *   [相等谓词与哈希函数](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/hash_equality.html)
        
    *   [常规容器](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/regular.html)
        
    *   [并发容器](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/concurrent.html)
        
    *   [哈希质量](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/hash_quality.html)
        
    *   [标准符合性](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/compliance.html)
        
    *   [数据结构](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/structures.html)
        
    *   [可调试性](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/debuggability.html)
        
    *   [基准测试](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/benchmarks.html)
        
    *   [实现原理](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/rationale.html)
        
    *   [参考](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/ref.html)
        
        *   [`<boost/unordered/unordered_map_fwd.hpp>`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/header_unordered_map_fwd.html)
        *   [`<boost/unordered_map.hpp>`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/header_unordered_map_top.html)
        *   [`<boost/unordered/unordered_map.hpp>`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/header_unordered_map.html)
        *   [`unordered_map`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/unordered_map.html)
        *   [`unordered_multimap`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/unordered_multimap.html)
        *   [`<boost/unordered/unordered_set_fwd.hpp>`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/header_unordered_set_fwd.html)
        *   [`<boost/unordered_set.hpp>`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/header_unordered_set_top.html)
        *   [`<boost/unordered/unordered_set.hpp>`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/header_unordered_set.html)
        *   [`unordered_set`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/unordered_set.html)
        *   [`unordered_multiset`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/unordered_multiset.html)
        *   [哈希特性](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/hash_traits.html)
        *   [统计信息](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/stats.html)
        *   [`<boost/unordered/unordered_flat_map_fwd.hpp>`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/header_unordered_flat_map_fwd.html)
        *   [`<boost/unordered/unordered_flat_map.hpp>`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/header_unordered_flat_map.html)
        *   [`unordered_flat_map`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/unordered_flat_map.html)
        *   [`<boost/unordered/unordered_flat_set_fwd.hpp>`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/header_unordered_flat_set_fwd.html)
        *   [`<boost/unordered/unordered_flat_set.hpp>`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/header_unordered_flat_set.html)
        *   [`unordered_flat_set`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/unordered_flat_set.html)
        *   [`<boost/unordered/unordered_node_map_fwd.hpp>`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/header_unordered_node_map_fwd.html)
        *   [`<boost/unordered/unordered_node_map.hpp>`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/header_unordered_node_map.html)
        *   [`unordered_node_map`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/unordered_node_map.html)
        *   [`<boost/unordered/unordered_node_set_fwd.hpp>`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/header_unordered_node_set_fwd.html)
        *   [`<boost/unordered/unordered_node_set.hpp>`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/header_unordered_node_set.html)
        *   [`unordered_node_set`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/unordered_node_set.html)
        *   [`<boost/unordered/concurrent_flat_map_fwd.hpp>`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/header_concurrent_flat_map_fwd.html)
        *   [`<boost/unordered/concurrent_flat_map.hpp>`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/header_concurrent_flat_map.html)
        *   [`concurrent_flat_map`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/concurrent_flat_map.html)
        *   [`<boost/unordered/concurrent_flat_set_fwd.hpp>`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/header_concurrent_flat_set_fwd.html)
        *   [`<boost/unordered/concurrent_flat_set.hpp>`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/header_concurrent_flat_set.html)
        *   [`concurrent_flat_set`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/concurrent_flat_set.html)
        *   [`<boost/unordered/concurrent_node_map_fwd.hpp>`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/header_concurrent_node_map_fwd.html)
        *   [`<boost/unordered/concurrent_node_map.hpp>`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/header_concurrent_node_map.html)
        *   [`concurrent_node_map`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/concurrent_node_map.html)
        *   [`<boost/unordered/concurrent_node_set_fwd.hpp>`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/header_concurrent_node_set_fwd.html)
        *   [`<boost/unordered/concurrent_node_set.hpp>`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/header_concurrent_node_set.html)
        *   [`concurrent_node_set`](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/reference/concurrent_node_set.html)
    *   [变更日志](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/changes.html)
        
    *   [参考文献](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/bibliography.html)
        
    *   [版权与许可](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/copyright.html)
        

[](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/intro.html)

*   [Boost.Unordered](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/intro.html)
*   [简介](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/intro.html)

# 简介

[哈希表](https://en.wikipedia.org/wiki/Hash_table)是极其流行的计算机数据结构，几乎在任何编程语言中都能以某种形式找到它们。虽然其他关联结构（如红黑树，在 C++ 中用于 `std::set` 和 `std::map`）的插入和查找具有对数时间复杂度，但如果配置得当，哈希表在平均情况下能以常数时间执行这些操作，并且通常快得多。

C++11 引入了*无序关联容器* `std::unordered_set`、`std::unordered_map`、`std::unordered_multiset` 和 `std::unordered_multimap`，但哈希表的研究从未停止：CPU 架构的进步（如更强大的缓存、[SIMD](https://en.wikipedia.org/wiki/Single_instruction,_multiple_data) 指令和日益普及的[多核处理器](https://en.wikipedia.org/wiki/Multi-core_processor)）为改进的基于哈希的数据结构开辟了可能性，并带来了 2011 年规范的无序关联容器无法实现的新用例。

Boost.Unordered 提供了一系列具有不同标准符合级别、性能和预期使用场景的哈希容器：

表 1. Boost.Unordered 容器| | **基于节点** | **扁平** | | --- | --- | --- | | **封闭寻址法** | `boost::unordered_set boost::unordered_map boost::unordered_multiset boost::unordered_multimap` | | | **开放寻址法** | `boost::unordered_node_set boost::unordered_node_map` | `boost::unordered_flat_set boost::unordered_flat_map` | | **并发** | `boost::concurrent_node_set` `boost::concurrent_node_map` | `boost::concurrent_flat_set` `boost::concurrent_flat_map` |

*   **封闭寻址容器**完全符合 C++ 无序关联容器的规范，在标准接口要求的技术约束下，提供了市场上最快的实现之一。
    
*   **开放寻址容器**依赖更快的数据结构和算法（在典型场景中快 2 倍以上），同时为适应实现而对标准接口略有偏离。提供两种变体：**扁平**（最快）和**基于节点**（在重哈希时提供指针稳定性，但速度较慢）。
    
*   最后，**并发容器**专为高性能多线程场景设计和实现，其接口与常规 C++ 容器截然不同。提供扁平型和基于节点的变体。
    

Boost.Unordered 中的所有集合和映射的实例化方式分别类似于 `std::unordered_set` 和 `std::unordered_map`：

```c++
namespace boost {
    template <
        class Key,
        class Hash = boost::hash<Key>,
        class Pred = std::equal_to<Key>,
        class Alloc = std::allocator<Key> >
    class unordered_set;
    // unordered_multiset, unordered_flat_set, unordered_node_set,
    // concurrent_flat_set 和 concurrent_node_set 同理

    template <
        class Key, class Mapped,
        class Hash = boost::hash<Key>,
        class Pred = std::equal_to<Key>,
        class Alloc = std::allocator<std::pair<Key const, Mapped> > >
    class unordered_map;
    // unordered_multimap, unordered_flat_map, unordered_node_map,
    // concurrent_flat_map 和 concurrent_node_map 同理
}
```

c++![Image 2: 复制图标](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/_/img/octicons-16.svg#view-clippy)已复制!

在无序关联容器中存储对象需要键相等函数和哈希函数。标准容器中的默认函数对象支持几种基本类型，包括整数类型、浮点类型、指针类型和标准字符串。由于 Boost.Unordered 使用 [boost::hash](https://www.boost.org/doc/libs/latest/libs/container_hash/index.html)，它还支持其他类型，包括标准容器。若要使用这些方法不支持的类型，您需要扩展 Boost.Hash 以支持该类型，或使用自定义的相等谓词和哈希函数。详见[相等谓词与哈希函数](https://www.boost.org/doc/libs/latest/libs/unordered/doc/html/unordered/hash_equality.html#hash_equality)章节。
```